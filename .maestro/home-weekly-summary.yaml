# Weekly Summary Component Tests
# Tests the weekly summary stats and time range toggles on training screen

appId: com.veloq.app
tags:
  - tier2
---
- runFlow:
    file: helpers/setup-demo-mode.yaml

- runFlow:
    file: helpers/navigate-to-training.yaml

# Verify weekly summary container is visible
- extendedWaitUntil:
    visible:
      id: "weekly-summary"
    timeout: 10000

# Switch to year view first (demo data may not have activities in current week)
- tapOn:
    id: "weekly-summary-range-year"

- extendedWaitUntil:
    visible:
      id: "weekly-summary-count"
    timeout: 5000

# Verify all stats are displayed
- assertVisible:
    id: "weekly-summary-count"
- assertVisible:
    id: "weekly-summary-duration"
- assertVisible:
    id: "weekly-summary-distance"
- assertVisible:
    id: "weekly-summary-tss"

# Test other time range toggles
- tapOn:
    id: "weekly-summary-range-6m"
- assertVisible:
    id: "weekly-summary"

- tapOn:
    id: "weekly-summary-range-3m"
- assertVisible:
    id: "weekly-summary"

- tapOn:
    id: "weekly-summary-range-month"
- assertVisible:
    id: "weekly-summary"

- tapOn:
    id: "weekly-summary-range-week"
- assertVisible:
    id: "weekly-summary"

- takeScreenshot: "weekly-summary-complete"
