# Stress Test: Activity Cycling
# Rapidly cycles through different demo activities to test loading and rendering

appId: com.veloq.app
tags:
  - tier3
---
- runFlow:
    file: helpers/setup-demo-mode.yaml

# Cycle through demo activities rapidly
- repeat:
    times: 3
    commands:
      - openLink: "veloq://activity/demo-test-0"
      - extendedWaitUntil:
          visible:
            id: "activity-detail-content"
          timeout: 5000
          optional: true

      - openLink: "veloq://activity/demo-test-1"
      - extendedWaitUntil:
          visible:
            id: "activity-detail-content"
          timeout: 5000
          optional: true

      - openLink: "veloq://activity/demo-2"
      - extendedWaitUntil:
          visible:
            id: "activity-detail-content"
          timeout: 5000
          optional: true

      - openLink: "veloq://activity/demo-3"
      - extendedWaitUntil:
          visible:
            id: "activity-detail-content"
          timeout: 5000
          optional: true

      - openLink: "veloq://activity/demo-4"
      - extendedWaitUntil:
          visible:
            id: "activity-detail-content"
          timeout: 5000
          optional: true

# Very rapid switching (no waiting)
- repeat:
    times: 5
    commands:
      - openLink: "veloq://activity/demo-test-0"
      - openLink: "veloq://activity/demo-test-1"
      - openLink: "veloq://activity/demo-2"

# Return to home and verify app is still responsive
- openLink: "veloq://"

- extendedWaitUntil:
    visible:
      id: "home-screen"
    timeout: 10000

- assertVisible:
    id: "home-activity-list"

- takeScreenshot: "stress-activity-cycling-complete"
