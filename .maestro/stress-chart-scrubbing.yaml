# Stress Test: Chart Scrubbing
# Rapidly toggles chart types to find render issues

appId: com.veloq.app
tags:
  - tier3
---
- runFlow:
    file: helpers/setup-demo-mode.yaml

# Navigate to activity detail with charts
- openLink: "veloq://activity/demo-0"

- extendedWaitUntil:
    visible:
      id: "activity-detail-content"
    timeout: 15000

- extendedWaitUntil:
    visible:
      id: "chart-type-selector"
    timeout: 10000

# Rapidly toggle between chart types (10 times)
- repeat:
    times: 10
    commands:
      - tapOn:
          id: "chart-type-heartrate"
          optional: true
      - tapOn:
          id: "chart-type-power"
          optional: true
      - tapOn:
          id: "chart-type-elevation"
          optional: true
      - tapOn:
          id: "chart-type-speed"
          optional: true

# Verify chart selector is still visible
- assertVisible:
    id: "chart-type-selector"

- takeScreenshot: "stress-chart-scrubbing-complete"
