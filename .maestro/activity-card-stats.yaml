# Activity Card Stats Tests
# Tests that activity cards display distance, duration, elevation

appId: com.veloq.app
---
- launchApp:
    clearState: true

# Dismiss any system alerts
- runFlow:
    when:
      visible: "Not Now"
    commands:
      - tapOn: "Not Now"

- extendedWaitUntil:
    visible:
      id: "login-screen"
    timeout: 30000

- tapOn:
    id: "login-demo-button"

- extendedWaitUntil:
    visible:
      id: "home-screen"
    timeout: 15000

# Wait for activity list to load
- extendedWaitUntil:
    visible:
      id: "home-activity-list"
    timeout: 10000

# Verify first activity card is visible (most recent activity)
# Note: demo activities are indexed 0-N with 0 being oldest
# The most recent activity appears first, so we tap on any visible activity card
- extendedWaitUntil:
    visible:
      id: "activity-card-demo-.*"
    timeout: 10000

# Tap on the first visible activity card (uses regex to match any demo activity)
- tapOn:
    id: "activity-card-demo-.*"

- extendedWaitUntil:
    visible:
      id: "activity-detail-screen"
    timeout: 10000

- extendedWaitUntil:
    visible:
      id: "activity-detail-content"
    timeout: 15000

- takeScreenshot: "activity-card-to-detail-complete"
